\hypertarget{gestion__cles_8c}{\section{gestion\-\_\-cles.\-c File Reference}
\label{gestion__cles_8c}\index{gestion\-\_\-cles.\-c@{gestion\-\_\-cles.\-c}}
}


contient les fonctions concernant le chiffrement/déchiffrement et les cles  


{\ttfamily \#include $<$stdio.\-h$>$}\\*
{\ttfamily \#include $<$tomcrypt.\-h$>$}\\*
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$gmp.\-h$>$}\\*
{\ttfamily \#include \char`\"{}pgp.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gestion\-\_\-cles.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}commandes.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}math\-\_\-crypto.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}lire\-\_\-ecrire.\-h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{gestion__cles_8c_a6879c3b1ce401d54a846ace789964db0}{encrypt\-\_\-rsa\-\_\-chaine} (char $\ast$chaine, int taille, F\-I\-L\-E $\ast$new, mpz\-\_\-t n, mpz\-\_\-t e)
\begin{DoxyCompactList}\small\item\em chiffrement rsa de la cle de session et ecriture dans le fichier 'new' \end{DoxyCompactList}\item 
void \hyperlink{gestion__cles_8c_acf9453cb278bc52a1adb859635e53ec5}{decrypt\-\_\-rsa\-\_\-chaine} (char $\ast$chaine, int taille, F\-I\-L\-E $\ast$new, mpz\-\_\-t n, mpz\-\_\-t d)
\begin{DoxyCompactList}\small\item\em dechiffrement rsa de la cle de session et ecriture dans le fichier 'new' \end{DoxyCompactList}\item 
void \hyperlink{gestion__cles_8c_a5eccc732b496cc530f0b458726319b59}{genere\-\_\-cle\-\_\-privee} (mpz\-\_\-t n, mpz\-\_\-t d)
\begin{DoxyCompactList}\small\item\em generation d'une cle privee \end{DoxyCompactList}\item 
void \hyperlink{gestion__cles_8c_a0e0b7a2b236c731c8cd676746a34ae6c}{genere\-\_\-cle\-\_\-publique} (mpz\-\_\-t n, mpz\-\_\-t e)
\begin{DoxyCompactList}\small\item\em generation d'une cle publique \end{DoxyCompactList}\item 
void \hyperlink{gestion__cles_8c_a442bbe67d97e577da797d52e653739d3}{genere\-\_\-cles} ()
\begin{DoxyCompactList}\small\item\em generation des cles publiques et privees \end{DoxyCompactList}\item 
void \hyperlink{gestion__cles_8c_a3a9e1b48dfda782801ada7007fc5773a}{cree\-\_\-pass\-\_\-phrase} (char $\ast$buffer1)
\begin{DoxyCompactList}\small\item\em stocke dans buffer1 la pass phrase choisie \end{DoxyCompactList}\item 
\hyperlink{structCLE}{C\-L\-E} \hyperlink{gestion__cles_8c_a3134880e478560bfa0e98a17f09a1c4b}{genere\-\_\-cle\-\_\-session} ()
\begin{DoxyCompactList}\small\item\em genere aleatoirement une cle de session \end{DoxyCompactList}\item 
void \hyperlink{gestion__cles_8c_aa5a43ea73d5582d755fd4085650ef46e}{encrypt\-\_\-session} (char $\ast$nom\-Fichier1, F\-I\-L\-E $\ast$new, \hyperlink{structCLE}{C\-L\-E} clef)
\begin{DoxyCompactList}\small\item\em chiffrement X\-O\-R de la cle de session avec les caracteres du fichier \end{DoxyCompactList}\item 
void \hyperlink{gestion__cles_8c_a90a6b841c3a0c45b560f08d0a18a3511}{decrypt\-\_\-session} (\hyperlink{structCLE}{C\-L\-E} c, F\-I\-L\-E $\ast$f\-\_\-to\-Decrypt, F\-I\-L\-E $\ast$f\-\_\-vierge)
\begin{DoxyCompactList}\small\item\em dechiffrement X\-O\-R de la cle de session avec les caracteres du fichier \end{DoxyCompactList}\item 
void \hyperlink{gestion__cles_8c_a60fd0fed619451ba49fc9a90b3c35d41}{decrypt\-\_\-session\-\_\-affichage} (\hyperlink{structCLE}{C\-L\-E} c, F\-I\-L\-E $\ast$f\-\_\-to\-Decrypt)
\begin{DoxyCompactList}\small\item\em dechiffrement X\-O\-R de la cle de session avec les caracteres du fichier et ecriture sur le terminal \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
contient les fonctions concernant le chiffrement/déchiffrement et les cles \begin{DoxyAuthor}{Author}
Claire Baskevitch -\/ Clément Caumes 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2017 
\end{DoxyDate}


\subsection{Function Documentation}
\hypertarget{gestion__cles_8c_a3a9e1b48dfda782801ada7007fc5773a}{\index{gestion\-\_\-cles.\-c@{gestion\-\_\-cles.\-c}!cree\-\_\-pass\-\_\-phrase@{cree\-\_\-pass\-\_\-phrase}}
\index{cree\-\_\-pass\-\_\-phrase@{cree\-\_\-pass\-\_\-phrase}!gestion_cles.c@{gestion\-\_\-cles.\-c}}
\subsubsection[{cree\-\_\-pass\-\_\-phrase}]{\setlength{\rightskip}{0pt plus 5cm}void cree\-\_\-pass\-\_\-phrase (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{buffer1}
\end{DoxyParamCaption}
)}}\label{gestion__cles_8c_a3a9e1b48dfda782801ada7007fc5773a}


stocke dans buffer1 la pass phrase choisie 

Place dans buffer1 la Pass Phrase choisie par l'utilisateur


\begin{DoxyParams}{Parameters}
{\em $\ast$buffer1} & chaine de caracteres ou sera stocke la pass phrase \\
\hline
\end{DoxyParams}
\hypertarget{gestion__cles_8c_acf9453cb278bc52a1adb859635e53ec5}{\index{gestion\-\_\-cles.\-c@{gestion\-\_\-cles.\-c}!decrypt\-\_\-rsa\-\_\-chaine@{decrypt\-\_\-rsa\-\_\-chaine}}
\index{decrypt\-\_\-rsa\-\_\-chaine@{decrypt\-\_\-rsa\-\_\-chaine}!gestion_cles.c@{gestion\-\_\-cles.\-c}}
\subsubsection[{decrypt\-\_\-rsa\-\_\-chaine}]{\setlength{\rightskip}{0pt plus 5cm}void decrypt\-\_\-rsa\-\_\-chaine (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{chaine, }
\item[{int}]{taille, }
\item[{F\-I\-L\-E $\ast$}]{new, }
\item[{mpz\-\_\-t}]{n, }
\item[{mpz\-\_\-t}]{d}
\end{DoxyParamCaption}
)}}\label{gestion__cles_8c_acf9453cb278bc52a1adb859635e53ec5}


dechiffrement rsa de la cle de session et ecriture dans le fichier 'new' 

Dechiffrement R\-S\-A (cle privee) de la cle de session (chaine)


\begin{DoxyParams}{Parameters}
{\em $\ast$chaine} & chaine de caracteres a dechiffrer \\
\hline
{\em taille} & taille de la chaine de caracteres a dechiffrer \\
\hline
{\em $\ast$new} & fichier ou ecrire le dechiffrement \\
\hline
{\em n} & cle privee (n) \\
\hline
{\em e} & cle privee (d) \\
\hline
\end{DoxyParams}
\hypertarget{gestion__cles_8c_a90a6b841c3a0c45b560f08d0a18a3511}{\index{gestion\-\_\-cles.\-c@{gestion\-\_\-cles.\-c}!decrypt\-\_\-session@{decrypt\-\_\-session}}
\index{decrypt\-\_\-session@{decrypt\-\_\-session}!gestion_cles.c@{gestion\-\_\-cles.\-c}}
\subsubsection[{decrypt\-\_\-session}]{\setlength{\rightskip}{0pt plus 5cm}void decrypt\-\_\-session (
\begin{DoxyParamCaption}
\item[{{\bf C\-L\-E}}]{c, }
\item[{F\-I\-L\-E $\ast$}]{f\-\_\-to\-Decrypt, }
\item[{F\-I\-L\-E $\ast$}]{f\-\_\-vierge}
\end{DoxyParamCaption}
)}}\label{gestion__cles_8c_a90a6b841c3a0c45b560f08d0a18a3511}


dechiffrement X\-O\-R de la cle de session avec les caracteres du fichier 

Dechiffrement X\-O\-R de la cle de session avec les caracteres du fichier et ecriture dans fichier


\begin{DoxyParams}{Parameters}
{\em c} & cle de session pr le dechiffrement \\
\hline
{\em $\ast$f\-\_\-to\-Decrypt} & fichier a dechiffrer \\
\hline
{\em $\ast$f\-\_\-vierge} & fichier ou le resultat du dechiffrement \\
\hline
\end{DoxyParams}
\hypertarget{gestion__cles_8c_a60fd0fed619451ba49fc9a90b3c35d41}{\index{gestion\-\_\-cles.\-c@{gestion\-\_\-cles.\-c}!decrypt\-\_\-session\-\_\-affichage@{decrypt\-\_\-session\-\_\-affichage}}
\index{decrypt\-\_\-session\-\_\-affichage@{decrypt\-\_\-session\-\_\-affichage}!gestion_cles.c@{gestion\-\_\-cles.\-c}}
\subsubsection[{decrypt\-\_\-session\-\_\-affichage}]{\setlength{\rightskip}{0pt plus 5cm}void decrypt\-\_\-session\-\_\-affichage (
\begin{DoxyParamCaption}
\item[{{\bf C\-L\-E}}]{c, }
\item[{F\-I\-L\-E $\ast$}]{f\-\_\-to\-Decrypt}
\end{DoxyParamCaption}
)}}\label{gestion__cles_8c_a60fd0fed619451ba49fc9a90b3c35d41}


dechiffrement X\-O\-R de la cle de session avec les caracteres du fichier et ecriture sur le terminal 

dechiffrement X\-O\-R de la cle de session avec les caracteres du fichier et affichage


\begin{DoxyParams}{Parameters}
{\em c} & cle de session pr le dechiffrement \\
\hline
{\em $\ast$f\-\_\-to\-Decrypt} & fichier a dechiffrer \\
\hline
\end{DoxyParams}
\hypertarget{gestion__cles_8c_a6879c3b1ce401d54a846ace789964db0}{\index{gestion\-\_\-cles.\-c@{gestion\-\_\-cles.\-c}!encrypt\-\_\-rsa\-\_\-chaine@{encrypt\-\_\-rsa\-\_\-chaine}}
\index{encrypt\-\_\-rsa\-\_\-chaine@{encrypt\-\_\-rsa\-\_\-chaine}!gestion_cles.c@{gestion\-\_\-cles.\-c}}
\subsubsection[{encrypt\-\_\-rsa\-\_\-chaine}]{\setlength{\rightskip}{0pt plus 5cm}void encrypt\-\_\-rsa\-\_\-chaine (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{chaine, }
\item[{int}]{taille, }
\item[{F\-I\-L\-E $\ast$}]{new, }
\item[{mpz\-\_\-t}]{n, }
\item[{mpz\-\_\-t}]{e}
\end{DoxyParamCaption}
)}}\label{gestion__cles_8c_a6879c3b1ce401d54a846ace789964db0}


chiffrement rsa de la cle de session et ecriture dans le fichier 'new' 

Chiffre \char`\"{}nom\-Fichier\char`\"{} grâce à la clé publique (e,n) Déchiffre \char`\"{}nom\-Fichier\char`\"{} grâce à la clé privée (d,n) Chiffrement R\-S\-A (cle publique) de la cle de session (chaine)


\begin{DoxyParams}{Parameters}
{\em $\ast$chaine} & chaine de caracteres a chiffrer \\
\hline
{\em taille} & taille de la chaine de caracteres a chiffrer \\
\hline
{\em $\ast$new} & fichier ou ecrire le chiffrement \\
\hline
{\em n} & cle publique (n) \\
\hline
{\em e} & cle publique (e) \\
\hline
\end{DoxyParams}
\hypertarget{gestion__cles_8c_aa5a43ea73d5582d755fd4085650ef46e}{\index{gestion\-\_\-cles.\-c@{gestion\-\_\-cles.\-c}!encrypt\-\_\-session@{encrypt\-\_\-session}}
\index{encrypt\-\_\-session@{encrypt\-\_\-session}!gestion_cles.c@{gestion\-\_\-cles.\-c}}
\subsubsection[{encrypt\-\_\-session}]{\setlength{\rightskip}{0pt plus 5cm}void encrypt\-\_\-session (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{nom\-Fichier1, }
\item[{F\-I\-L\-E $\ast$}]{new, }
\item[{{\bf C\-L\-E}}]{clef}
\end{DoxyParamCaption}
)}}\label{gestion__cles_8c_aa5a43ea73d5582d755fd4085650ef46e}


chiffrement X\-O\-R de la cle de session avec les caracteres du fichier 

Chiffrement X\-O\-R de la cle de session avec les caracteres du fichier


\begin{DoxyParams}{Parameters}
{\em $\ast$nom\-Fichier1} & nom du fichier a chiffrer \\
\hline
{\em $\ast$new} & fichier ou ecrire le resultat du chiffrement \\
\hline
{\em clef} & cle de session pour chiffrer le fichier \\
\hline
\end{DoxyParams}
\hypertarget{gestion__cles_8c_a5eccc732b496cc530f0b458726319b59}{\index{gestion\-\_\-cles.\-c@{gestion\-\_\-cles.\-c}!genere\-\_\-cle\-\_\-privee@{genere\-\_\-cle\-\_\-privee}}
\index{genere\-\_\-cle\-\_\-privee@{genere\-\_\-cle\-\_\-privee}!gestion_cles.c@{gestion\-\_\-cles.\-c}}
\subsubsection[{genere\-\_\-cle\-\_\-privee}]{\setlength{\rightskip}{0pt plus 5cm}void genere\-\_\-cle\-\_\-privee (
\begin{DoxyParamCaption}
\item[{mpz\-\_\-t}]{n, }
\item[{mpz\-\_\-t}]{d}
\end{DoxyParamCaption}
)}}\label{gestion__cles_8c_a5eccc732b496cc530f0b458726319b59}


generation d'une cle privee 

Affichage de la cle privee


\begin{DoxyParams}{Parameters}
{\em n} & cle privee (n) \\
\hline
{\em d} & cle privee (d) \\
\hline
\end{DoxyParams}
\hypertarget{gestion__cles_8c_a0e0b7a2b236c731c8cd676746a34ae6c}{\index{gestion\-\_\-cles.\-c@{gestion\-\_\-cles.\-c}!genere\-\_\-cle\-\_\-publique@{genere\-\_\-cle\-\_\-publique}}
\index{genere\-\_\-cle\-\_\-publique@{genere\-\_\-cle\-\_\-publique}!gestion_cles.c@{gestion\-\_\-cles.\-c}}
\subsubsection[{genere\-\_\-cle\-\_\-publique}]{\setlength{\rightskip}{0pt plus 5cm}void genere\-\_\-cle\-\_\-publique (
\begin{DoxyParamCaption}
\item[{mpz\-\_\-t}]{n, }
\item[{mpz\-\_\-t}]{e}
\end{DoxyParamCaption}
)}}\label{gestion__cles_8c_a0e0b7a2b236c731c8cd676746a34ae6c}


generation d'une cle publique 

Affichage de la cle publique


\begin{DoxyParams}{Parameters}
{\em n} & cle privee (n) \\
\hline
{\em d} & cle privee (e) \\
\hline
\end{DoxyParams}
\hypertarget{gestion__cles_8c_a3134880e478560bfa0e98a17f09a1c4b}{\index{gestion\-\_\-cles.\-c@{gestion\-\_\-cles.\-c}!genere\-\_\-cle\-\_\-session@{genere\-\_\-cle\-\_\-session}}
\index{genere\-\_\-cle\-\_\-session@{genere\-\_\-cle\-\_\-session}!gestion_cles.c@{gestion\-\_\-cles.\-c}}
\subsubsection[{genere\-\_\-cle\-\_\-session}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-L\-E} genere\-\_\-cle\-\_\-session (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{gestion__cles_8c_a3134880e478560bfa0e98a17f09a1c4b}


genere aleatoirement une cle de session 

Generation d'une cle de session aleatoire

\begin{DoxyReturn}{Returns}
retourne la cle generee 
\end{DoxyReturn}
\hypertarget{gestion__cles_8c_a442bbe67d97e577da797d52e653739d3}{\index{gestion\-\_\-cles.\-c@{gestion\-\_\-cles.\-c}!genere\-\_\-cles@{genere\-\_\-cles}}
\index{genere\-\_\-cles@{genere\-\_\-cles}!gestion_cles.c@{gestion\-\_\-cles.\-c}}
\subsubsection[{genere\-\_\-cles}]{\setlength{\rightskip}{0pt plus 5cm}void genere\-\_\-cles (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{gestion__cles_8c_a442bbe67d97e577da797d52e653739d3}


generation des cles publiques et privees 

Génère les clés aléatoirement 